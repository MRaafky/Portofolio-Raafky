<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Raafky Site</title>
    <link rel="icon" href="./images/logo.png" type="image/png" />
    <!-- External CSS -->
    <style>
      /* Base Styles */
      :root {
        --primary-color: #111;
        --secondary-color: #f5f5f5;
        --accent-color: #d4af37;
        --text-color: #333;
        --text-color-inverse: #f5f5f5;
        --muted-color: #666;
        --muted-color-inverse: #aaa;
        --background-overlay: rgba(255, 255, 255, 0.1);
        --card-background: rgba(255, 255, 255, 0.8);
        --transition-slow: 0.5s cubic-bezier(0.65, 0, 0.35, 1);
        --transition-medium: 0.3s cubic-bezier(0.65, 0, 0.35, 1);
        --transition-fast: 0.2s cubic-bezier(0.65, 0, 0.35, 1);
        --font-main: "Space Grotesk", sans-serif;
        --font-secondary: "Inter", sans-serif;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-main);
        background-color: var(--secondary-color);
        color: var(--text-color);
        overflow-x: hidden;
        transition: background-color 1s ease;
        cursor: none;
      }

      a {
        text-decoration: none;
        color: inherit;
      }

      .container {
        width: 100%;
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 5%;
      }

      /* Advanced Preloader */
      .preloader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--secondary-color);
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      .preloader-content {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 40px;
      }

      /* Elegant logo animation */
      .preloader-logo {
        font-size: 3rem;
        font-weight: 300;
        letter-spacing: 3px;
        overflow: hidden;
        position: relative;
        margin-bottom: 20px;
      }

      .preloader-logo::before {
        content: "";
        position: absolute;
        height: 100%;
        width: 100%;
        border-bottom: 1px solid var(--accent-color);
        transform: translateX(-100%);
        animation: underline 1.5s 0.5s forwards cubic-bezier(0.19, 1, 0.22, 1);
      }

      @keyframes underline {
        to {
          transform: translateX(0);
        }
      }
      .preloader-indicator {
        width: 200px;
        height: 1px;
        background: rgba(0, 0, 0, 0.1);
        position: relative;
        overflow: hidden;
        margin-bottom: 30px;
      }

      .preloader-bar {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 0;
        background: var(--accent-color);
        animation: loading 2.5s cubic-bezier(0.76, 0, 0.24, 1) forwards;
      }

      @keyframes loading {
        0% {
          width: 0;
        }
        50% {
          width: 70%;
        }
        100% {
          width: 100%;
        }
      }
      .decorative-lines {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
        opacity: 0.5;
        top: 0;
        left: 0;
        pointer-events: none;
      }

      .line {
        position: absolute;
        background: var(--accent-color);
        opacity: 0.1;
      }

      .horizontal-line {
        height: 1px;
        width: 100%;
      }

      .vertical-line {
        width: 1px;
        height: 100%;
      }
      .preloader-overlay {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        background: var(--secondary-color);
        transform-origin: right;
        transform: scaleX(0);
        visibility: hidden;
      }

      .preloader.fade-out {
        opacity: 0;
        transition: opacity 0.8s cubic-bezier(0.65, 0, 0.35, 1);
      }

      .preloader-text {
        font-family: var(--font-secondary);
        text-transform: uppercase;
        letter-spacing: 5px;
        font-size: 0.8rem;
        font-weight: 300;
        opacity: 0;
        transform: translateY(30px);
        animation: fadeUp 1s 1s forwards cubic-bezier(0.19, 1, 0.22, 1);
      }

      @keyframes fadeUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .counter {
        position: absolute;
        bottom: 40px;
        right: 40px;
        font-family: var(--font-secondary);
        font-size: 1rem;
        letter-spacing: 2px;
        color: var(--text-color);
        opacity: 0.5;
      }

      .preloader-text span {
        display: inline-block;
        opacity: 0;
        animation: revealLetters 1.5s forwards;
        animation-delay: calc(var(--i) * 0.1s);
      }

      @keyframes revealLetters {
        0% {
          opacity: 0;
          transform: translateY(20px) rotate(10deg);
        }
        100% {
          opacity: 1;
          transform: translateY(0) rotate(0);
        }
      }

      /* Advanced Cursor */
      .cursor-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 9998;
      }

      .cursor {
        position: fixed;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 1px solid var(--text-color);
        transform: translate(-50%, -50%);
        mix-blend-mode: difference;
        transition: all 0.1s ease, border-color 0.5s ease,
          transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        z-index: 9999;
      }

      .cursor-dot {
        position: fixed;
        width: 8px;
        height: 8px;
        background-color: var(--text-color);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        transition: transform 0.1s ease, background-color 0.5s ease;
        z-index: 10000;
      }

      .cursor-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: var(--primary-color);
        white-space: nowrap;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      /* Enhanced cursor effect */
      a:hover ~ .cursor-container .cursor,
      button:hover ~ .cursor-container .cursor,
      .interactive:hover ~ .cursor-container .cursor {
        transform: translate(-50%, -50%) scale(1.5);
        border-color: rgba(255, 255, 255, 0.8);
      }

      a:hover ~ .cursor-container .cursor-dot,
      button:hover ~ .cursor-container .cursor-dot,
      .interactive:hover ~ .cursor-container .cursor-dot {
        transform: translate(-50%, -50%) scale(0.5);
      }

      /* Advanced Navigation */
      .nav-footer {
        top: 0;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: start;
        z-index: 100;
        mix-blend-mode: difference;
        color: white;
      }

      .nav-atas {
        position: fixed;
        top: 0;
        padding: 30px 50px;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: start;
        z-index: 100;
        mix-blend-mode: difference;
        color: white;
        background: rgba(255, 255, 255, 0.01);
        backdrop-filter: blur(8px);
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.02);
        transition: all 0.4s ease;
      }

      body.dark-mode .nav-atas {
        background: rgba(0, 0, 0, 0.2);
      }

      .nav-logo {
        font-weight: 700;
        font-size: 1.2rem;
        letter-spacing: 2px;
        position: relative;
      }

      .nav-logo::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 100%;
        height: 1px;
        background-color: white;
        transform: scaleX(0);
        transform-origin: right;
        transition: transform 0.5s ease;
      }

      .nav-logo:hover::after {
        transform: scaleX(1);
        transform-origin: left;
      }

      .nav-menu {
        display: flex;
        gap: 40px;
      }

      .nav-link {
        position: relative;
        padding: 5px 0;
        font-family: var(--font-secondary);
        font-weight: 500;
        letter-spacing: 1px;
        text-transform: uppercase;
        font-size: 0.85rem;
        overflow: hidden;
      }

      .nav-link::before {
        content: attr(data-text);
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        color: white;
        transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
      }

      .nav-link span {
        display: block;
        transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
      }

      .nav-link:hover span {
        transform: translateY(-100%);
      }

      .nav-link:hover::before {
        transform: translateY(-100%);
      }

      /* Menu Toggle */
      .menu-toggle {
        display: none;
        flex-direction: column;
        justify-content: space-between;
        width: 30px;
        height: 20px;
        cursor: pointer;
        z-index: 101;
      }

      .menu-toggle span {
        display: block;
        width: 100%;
        height: 2px;
        background-color: white;
        transition: all 0.4s ease;
      }

      /* Mobile Menu */
      .mobile-menu {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background-color: var(--primary-color);
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        z-index: 100;
        opacity: 0;
        visibility: hidden;
        transition: all 0.5s ease;
      }

      .mobile-menu.active {
        opacity: 1;
        visibility: visible;
      }

      .mobile-nav-link {
        font-size: 2rem;
        margin: 15px 0;
        color: white;
        font-weight: 700;
        position: relative;
        overflow: hidden;
        display: inline-block;
        transition: all 0.5s ease;
        transform: translateY(50px);
        opacity: 0;
      }

      .mobile-menu.active .mobile-nav-link {
        transform: translateY(0);
        opacity: 1;
        transition-delay: calc(var(--i) * 0.1s);
      }

      /* Fix for Mobile Menu in dark mode */
      body.dark-mode .mobile-menu {
        background-color: #222;
      }

      body.dark-mode .mobile-nav-link {
        color: var(--text-color);
      }

      /* Fix for hamburger menu icon in dark mode */
      body.dark-mode .menu-toggle span {
        background-color: var(--text-color);
      }

      /* Sections */
      section {
        min-height: 100vh;
        position: relative;
        padding: 120px 0;
        overflow: hidden;
      }

      .section-title {
        font-size: 4rem;
        font-weight: 800;
        margin-bottom: 60px;
        position: relative;
        line-height: 1.1;
      }

      .section-title span {
        display: block;
        font-size: 1.5rem;
        font-weight: 400;
        margin-bottom: 10px;
        opacity: 0.6;
      }

      /* Home Section */
      #home {
        display: flex;
        align-items: center;
        padding-top: 0;
        position: relative;
      }

      .home-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
      }

      .home-bg::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle at center,
          transparent 30%,
          var(--secondary-color) 70%
        );
      }

      .home-content {
        max-width: 800px;
        position: relative;
        z-index: 1;
      }

      .home-title {
        font-size: 5rem;
        line-height: 1.1;
        font-weight: 800;
        margin-bottom: 40px;
      }

      .home-subtitle {
        font-size: 1.2rem;
        opacity: 0.8;
        margin-bottom: 40px;
        max-width: 600px;
        line-height: 1.8;
      }

      .btn {
        display: inline-flex;
        align-items: center;
        padding: 15px 30px;
        background-color: var(--primary-color);
        color: var(--text-color-inverse);
        font-weight: 500;
        letter-spacing: 1px;
        border-radius: 2px;
        overflow: hidden;
        position: relative;
        transition: all 0.5s ease,
          transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease,
          background-color 0.3s ease;
        transform-origin: center;
        z-index: 1;
      }

      .btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.1);
        transform: translateX(-100%) skew(-15deg);
        transition: all 0.5s ease;
        z-index: -1;
      }

      .btn:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }

      .btn:hover::before {
        transform: translateX(100%) skew(-15deg);
      }

      .btn:active {
        transform: scale(0.97);
      }

      .btn svg {
        margin-left: 10px;
        transition: transform 0.3s ease;
      }

      .btn:hover svg {
        transform: translateX(5px);
      }

      /* Enhanced scroll indicator */
      .scroll-indicator {
        position: absolute;
        bottom: 40px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
      }

      .scroll-line {
        width: 1px;
        height: 80px;
        background: var(--primary-color);
        position: relative;
        overflow: hidden;
      }

      .scroll-line::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--primary-color);
        animation: scrollLine 2s infinite;
      }

      @keyframes scrollLine {
        0% {
          transform: translateY(-100%);
        }
        100% {
          transform: translateY(100%);
        }
      }

      /* Fixed scroll indicator */
      .scroll-progress {
        position: fixed;
        right: 30px;
        top: 50%;
        transform: translateY(-50%);
        width: 3px;
        height: 100px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 10px;
        overflow: hidden;
        z-index: 90;
        mix-blend-mode: difference;
      }

      .scroll-progress-fill {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        background: white;
        transition: height 0.1s ease;
      }

      /* Menu Section */
      #menu .container {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 40px;
      }

      .menu-item {
        position: relative;
        height: 300px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 5px;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .menu-item::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.05),
          transparent
        );
        transform: translateX(-100%);
        transition: transform 0.6s ease;
      }

      .menu-item:hover {
        transform: translateY(-15px) scale(1.02);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1),
          0 3px 10px rgba(0, 0, 0, 0.07);
      }

      .menu-item:hover::before {
        transform: translateX(100%);
      }

      .menu-icon {
        font-size: 2rem;
        margin-bottom: 20px;
        transition: transform 0.5s ease;
      }

      .menu-item:hover .menu-icon {
        transform: scale(1.2);
      }

      .menu-title {
        font-size: 1.5rem;
        font-weight: 700;
        z-index: 1;
      }

      /* About Section */
      #about .container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 80px;
        align-items: center;
      }

      .about-image-container {
        position: relative;
        width: 100%;
        height: 600px;
        overflow: hidden;
        border-radius: 5px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      }

      .about-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }

      .about-image-container:hover .about-image {
        transform: scale(1.05);
      }

      .about-content .section-title {
        text-align: left;
        margin-bottom: 40px;
      }

      .about-text {
        font-size: 1.1rem;
        line-height: 1.8;
        margin-bottom: 30px;
        font-family: var(--font-secondary);
        color: var(--text-color);
      }

      .skills {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 30px;
        margin-top: 50px;
      }

      .skill {
        position: relative;
      }

      .skill-name {
        font-weight: 500;
        margin-bottom: 10px;
      }

      .skill-bar {
        width: 100%;
        height: 4px;
        background-color: var(--background-overlay);
        position: relative;
        border-radius: 2px;
        overflow: hidden;
      }

      .skill-progress {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        background-color: var(--primary-color);
        width: 0;
        transition: width 1.5s cubic-bezier(0.19, 1, 0.22, 1);
      }

      /* Projects Section */
      #projects {
        padding-bottom: 150px;
      }

      .projects-filters {
        display: flex;
        gap: 30px;
        margin-bottom: 60px;
        justify-content: center;
      }

      .filter-btn {
        padding: 8px 20px;
        background: none;
        border: none;
        font-family: var(--font-main);
        font-size: 0.9rem;
        cursor: pointer;
        position: relative;
      }

      .filter-btn::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        height: 2px;
        background-color: var(--primary-color);
        transition: width 0.3s ease;
      }

      .filter-btn.active {
        font-weight: 700;
      }

      .filter-btn.active::after {
        width: 100%;
      }

      .projects-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 40px;
      }

      /* FIX: Improved project cards - removed conflicting animations */
      .project-card {
        position: relative;
        border-radius: 5px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        height: 400px;
        transform-style: preserve-3d;
        perspective: 1000px;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        /* Initial state - visible but out of view */
        opacity: 1;
        transform: translateY(50px);
      }

      /* When animated in, project cards become visible */
      .project-card.animated {
        opacity: 1;
        transform: translateY(0);
      }

      .project-card:hover {
        transform: rotateY(5deg) rotateX(5deg) translateZ(10px)
          translateY(-20px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      }

      .project-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
      }

      .project-card:hover .project-image {
        transform: scale(1.1);
      }

      .project-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding: 30px;
        color: white;
        transform: translateY(50px);
        opacity: 0;
        transition: all 0.5s ease;
      }

      .project-card:hover .project-overlay {
        transform: translateY(0);
        opacity: 1;
      }

      .project-category {
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 2px;
        margin-bottom: 10px;
      }

      .project-title {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 15px;
      }

      .project-description {
        font-size: 0.9rem;
        line-height: 1.6;
        margin-bottom: 20px;
        font-family: var(--font-secondary);
      }

      .project-link {
        display: inline-flex;
        align-items: center;
        color: white;
        font-size: 0.9rem;
      }

      .project-link svg {
        margin-left: 5px;
        transition: transform 0.3s ease;
      }

      .project-link:hover svg {
        transform: translateX(5px);
      }

      /* Services Section */
      #services {
        background-color: var(--primary-color);
        color: white;
      }

      body.dark-mode #services {
        background-color: var(--secondary-color);
        color: var(--text-color);
      }

      .services-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 40px;
      }

      .service-card {
        padding: 40px 30px;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 5px;
        transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .service-card:hover {
        transform: translateY(-10px) scale(1.02);
        background: rgba(255, 255, 255, 0.1);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15),
          0 3px 10px rgba(0, 0, 0, 0.1);
      }

      .service-icon {
        font-size: 2.5rem;
        margin-bottom: 20px;
      }

      body.dark-mode .service-icon {
        color: var(--text-color);
      }

      .service-title {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 15px;
      }

      .service-description {
        font-size: 0.9rem;
        line-height: 1.6;
        opacity: 0.8;
        font-family: var(--font-secondary);
      }

      /* Contact Section */
      #contact {
        position: relative;
        padding-bottom: 80px;
      }

      .contact-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 80px;
      }

      .contact-info {
        display: flex;
        flex-direction: column;
        gap: 30px;
      }

      .contact-info-item {
        display: flex;
        align-items: flex-start;
        gap: 15px;
      }

      .contact-icon {
        font-size: 1.5rem;
        color: var(--primary-color);
      }

      .contact-text {
        font-family: var(--font-secondary);
      }

      .contact-text h3 {
        font-size: 1.2rem;
        margin-bottom: 5px;
      }

      .contact-text p {
        font-size: 0.9rem;
        opacity: 0.8;
      }

      .contact-social {
        display: flex;
        gap: 20px;
        margin-top: 30px;
      }

      .social-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--primary-color);
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1.2rem;
        transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      .social-icon:hover {
        transform: translateY(-5px);
        background: #444;
      }

      body.dark-mode .social-icon {
        background: #333;
        color: var(--text-color);
      }

      body.dark-mode .social-icon:hover {
        background: #444;
      }

      .contact-form {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 40px;
        border-radius: 5px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        transition: background-color 0.5s ease, border-color 0.5s ease;
      }

      body.dark-mode .contact-form {
        border-color: rgba(255, 255, 255, 0.1);
        background: rgba(30, 30, 30, 0.8);
      }

      .form-group {
        margin-bottom: 25px;
      }

      .form-label {
        display: block;
        margin-bottom: 8px;
        font-size: 0.9rem;
        font-weight: 500;
      }

      body.dark-mode .form-label {
        color: var(--text-color);
      }

      .form-input,
      .form-textarea {
        width: 100%;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-family: var(--font-secondary);
        font-size: 1rem;
        background-color: transparent;
        color: var(--text-color);
        transition: border-color 0.3s ease, background-color 0.5s ease,
          color 0.5s ease;
      }

      .form-input:focus,
      .form-textarea:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
      }

      body.dark-mode .form-input,
      body.dark-mode .form-textarea {
        border-color: rgba(255, 255, 255, 0.2);
        color: var(--text-color);
      }

      .form-textarea {
        min-height: 150px;
        resize: vertical;
      }

      .form-submit {
        display: inline-block;
        padding: 15px 40px;
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: 5px;
        font-family: var(--font-main);
        font-size: 1rem;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.3s ease,
          transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease;
      }

      .form-submit:hover {
        background-color: #444;
        transform: translateY(-5px) scale(1.03);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }

      .form-submit:active {
        transform: scale(0.97);
      }

      body.dark-mode .form-submit {
        background-color: #333;
        color: var(--text-color);
      }

      body.dark-mode .form-submit:hover {
        background-color: #444;
      }

      /* Footer */
      footer {
        background-color: var(--primary-color);
        color: white;
        padding: 80px 0 40px;
      }

      body.dark-mode footer {
        background-color: var(--secondary-color);
        color: var(--text-color);
      }

      .footer-grid {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr 1fr;
        gap: 40px;
        margin-bottom: 60px;
      }

      .footer-logo {
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 20px;
      }

      .footer-text {
        font-size: 0.9rem;
        line-height: 1.6;
        opacity: 0.8;
        margin-bottom: 30px;
        max-width: 400px;
        font-family: var(--font-secondary);
      }

      .footer-title {
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 20px;
        position: relative;
        padding-bottom: 10px;
      }

      .footer-title::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 40px;
        height: 2px;
        background-color: white;
      }

      body.dark-mode .footer-title::after {
        background-color: var(--text-color);
      }

      .footer-links {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .footer-link {
        font-size: 0.9rem;
        opacity: 0.8;
        transition: all 0.3s ease;
        font-family: var(--font-secondary);
      }

      .footer-link:hover {
        opacity: 1;
        transform: translateX(5px);
      }

      .footer-bottom {
        padding-top: 40px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .copyright {
        font-size: 0.9rem;
        opacity: 0.8;
        font-family: var(--font-secondary);
      }

      .back-to-top {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      .back-to-top:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-5px);
      }

      /* Neomorphic UI Elements */
      body:not(.dark-mode) .form-submit,
      body:not(.dark-mode) .btn {
        background: var(--secondary-color);
        color: var(--text-color);
        box-shadow: 8px 8px 16px rgba(0, 0, 0, 0.05),
          -8px -8px 16px rgba(255, 255, 255, 0.8);
        border: none;
        transition: all 0.3s ease;
      }

      body:not(.dark-mode) .form-submit:hover,
      body:not(.dark-mode) .btn:hover {
        box-shadow: 6px 6px 10px rgba(0, 0, 0, 0.03),
          -6px -6px 10px rgba(255, 255, 255, 0.8);
        transform: translateY(-5px);
      }

      body:not(.dark-mode) .form-submit:active,
      body:not(.dark-mode) .btn:active {
        box-shadow: inset 4px 4px 8px rgba(0, 0, 0, 0.05),
          inset -4px -4px 8px rgba(255, 255, 255, 0.8);
        transform: translateY(0);
      }

      /* Dark mode neomorphic elements */
      body.dark-mode .form-submit,
      body.dark-mode .btn {
        background: #2a2a2a;
        color: var(--text-color);
        box-shadow: 8px 8px 16px rgba(0, 0, 0, 0.25),
          -8px -8px 16px rgba(60, 60, 60, 0.2);
        border: none;
      }

      body.dark-mode .form-submit:hover,
      body.dark-mode .btn:hover {
        box-shadow: 6px 6px 10px rgba(0, 0, 0, 0.2),
          -6px -6px 10px rgba(60, 60, 60, 0.15);
        transform: translateY(-5px);
      }

      body.dark-mode .form-submit:active,
      body.dark-mode .btn:active {
        box-shadow: inset 4px 4px 8px rgba(0, 0, 0, 0.3),
          inset -4px -4px 8px rgba(60, 60, 60, 0.1);
        transform: translateY(0);
      }

      /* Dark Mode Toggle */
      .dark-mode-toggle {
        position: fixed;
        right: 30px;
        bottom: 30px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: var(--primary-color);
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        z-index: 100;
        transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      .dark-mode-toggle:hover {
        transform: translateY(-5px);
      }

      body.dark-mode .dark-mode-toggle {
        background: #333;
        color: var(--text-color);
      }

      body.dark-mode .dark-mode-toggle:hover {
        background: #444;
        transform: translateY(-5px);
      }

      /* Dark Mode Color Fix */
      body.dark-mode {
        --primary-color: #f5f5f5;
        --secondary-color: #111;
        --accent-color: #ccc;
        --text-color: #f5f5f5;
        --text-color-inverse: #333;
        --muted-color: #aaa;
        --muted-color-inverse: #666;
        --background-overlay: rgba(0, 0, 0, 0.2);
        --card-background: rgba(30, 30, 30, 0.8);
      }

      body.dark-mode .project-title,
      body.dark-mode .project-category,
      body.dark-mode .project-description,
      body.dark-mode .project-link {
        color: #fff;
      }

      body.dark-mode .filter-btn {
        color: var(--text-color);
      }

      body.dark-mode .filter-btn::after {
        background-color: var(--text-color);
      }

      /* Text reveal animation */
      .text-reveal {
        overflow: hidden;
        position: relative;
      }

      .text-reveal span {
        display: block;
        transform: translateY(100%);
        transition: transform 0.5s cubic-bezier(0.65, 0, 0.35, 1);
      }

      .text-reveal.active span {
        transform: translateY(0);
      }

      /* Page Transition */
      .page-transition {
        position: fixed;
        top: 0;
        right: 0;
        width: 100%;
        height: 100%;
        background-color: var(--primary-color);
        z-index: 9997;
        transform: translateX(100%);
        pointer-events: none;
      }

      /* Animated Background */
      .bg-animation {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        opacity: 0.5;
      }

      .bg-animation span {
        position: absolute;
        display: block;
        width: 20px;
        height: 20px;
        background: rgba(0, 0, 0, 0.05);
        animation: animate 25s linear infinite;
        bottom: -150px;
        border-radius: 50%;
      }

      @keyframes animate {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
          border-radius: 0;
        }
        100% {
          transform: translateY(-1000px) rotate(720deg);
          opacity: 0;
          border-radius: 50%;
        }
      }

      /* Particle background */
      .particle-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        opacity: 0.5;
      }

      /* FIX: Simplified reveal animations for projects */
      .reveal {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.8s cubic-bezier(0.5, 0, 0.3, 1.2);
        will-change: transform, opacity;
      }

      .reveal.active {
        opacity: 1;
        transform: translateY(0);
      }

      /* Advanced Scroll Animations */
      @media (prefers-reduced-motion: no-preference) {
        .reveal {
          transition: all 0.8s cubic-bezier(0.77, 0, 0.175, 1);
        }

        .stagger-reveal {
          transition-delay: calc(var(--i) * 100ms);
        }
      }

      /* Micro Interactions */
      .interactive {
        transition: all 0.2s ease;
      }

      .interactive:active {
        transform: scale(0.95);
      }

      /* Responsive Design */
      @media (max-width: 1200px) {
        .container {
          padding: 0 3%;
        }

        .section-title {
          font-size: 3.5rem;
        }

        .home-title {
          font-size: 4rem;
        }

        #about .container {
          grid-template-columns: 1fr;
          gap: 60px;
        }

        .about-image-container {
          height: 500px;
        }

        .footer-grid {
          grid-template-columns: 1fr 1fr;
          gap: 30px;
        }
      }

      @media (max-width: 1024px) {
        nav {
          padding: 25px 30px;
        }

        .home-title {
          font-size: 3.5rem;
        }

        .home-subtitle {
          font-size: 1.1rem;
        }

        #menu .container {
          grid-template-columns: 1fr;
          gap: 30px;
        }

        .projects-grid {
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        }

        .contact-container {
          grid-template-columns: 1fr;
          gap: 50px;
        }

        .services-grid {
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        }
      }

      @media (max-width: 768px) {
        body {
          cursor: default;
        }

        .cursor,
        .cursor-dot {
          display: none;
        }

        nav {
          padding: 20px;
        }

        .nav-menu {
          display: none;
        }

        .menu-toggle {
          display: flex;
        }

        .menu-toggle.active span:nth-child(1) {
          transform: rotate(-45deg) translate(-5px, 6px);
        }

        .menu-toggle.active span:nth-child(2) {
          opacity: 0;
        }

        .menu-toggle.active span:nth-child(3) {
          transform: rotate(45deg) translate(-5px, -6px);
        }

        section {
          padding: 80px 0;
        }

        .container {
          padding: 0 4%;
        }

        .section-title {
          font-size: 2.5rem;
          margin-bottom: 40px;
        }

        .home-title {
          font-size: 2.5rem;
          margin-bottom: 30px;
        }

        .home-subtitle {
          font-size: 1rem;
          margin-bottom: 30px;
        }

        .projects-grid {
          grid-template-columns: 1fr;
        }

        .project-card {
          height: 350px;
        }

        .skills {
          grid-template-columns: 1fr;
        }

        .projects-filters {
          flex-wrap: wrap;
          gap: 15px;
        }

        .footer-grid {
          grid-template-columns: 1fr;
          gap: 40px;
        }

        .footer-bottom {
          flex-direction: column;
          gap: 20px;
          text-align: center;
        }

        .contact-form {
          padding: 30px 20px;
        }
      }

      @media (max-width: 480px) {
        .section-title {
          font-size: 2rem;
        }

        .home-title {
          font-size: 2rem;
        }

        .menu-item {
          height: 250px;
        }

        .menu-title {
          font-size: 1.3rem;
        }

        .about-image-container {
          height: 400px;
        }

        .project-card {
          height: 300px;
        }

        .contact-form .form-input,
        .contact-form .form-textarea {
          padding: 12px;
        }

        .btn {
          padding: 12px 24px;
        }

        .form-submit {
          padding: 12px 30px;
        }
      }

      /* Performance Optimizations */
      .will-change {
        will-change: transform, opacity;
      }

      .gpu-accelerated {
        transform: translateZ(0);
        backface-visibility: hidden;
        perspective: 1000px;
      }

      /* Print Styles */
      @media print {
        .preloader,
        .cursor,
        .cursor-dot,
        .dark-mode-toggle,
        .scroll-indicator,
        .back-to-top,
        .menu-toggle {
          display: none !important;
        }

        body {
          background: white;
          color: black;
        }

        nav {
          position: static;
          mix-blend-mode: normal;
          color: black;
        }

        section {
          min-height: auto;
          padding: 40px 0;
          page-break-inside: avoid;
        }

        .project-card,
        .service-card {
          box-shadow: none;
          border: 1px solid #ddd;
        }
      }
      .audio-control {
        position: fixed;
        bottom: 30px;
        left: 30px;
        z-index: 1000;
        opacity: 0.7;
        transition: opacity 0.3s ease;
      }

      .audio-control:hover {
        opacity: 1;
      }

      #audioToggle {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: var(--primary-color);
        color: white;
        border: none;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      #audioToggle:hover {
        transform: scale(1.1);
      }

      body.dark-mode #audioToggle {
        background: #333;
        color: var(--text-color);
      }

      /* Optimize for mobile */
      @media (max-width: 768px) {
        .audio-control {
          bottom: 20px;
          left: 20px;
        }

        #audioToggle {
          width: 40px;
          height: 40px;
        }
      }
    </style>
    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Animated Background -->
    <div class="bg-animation">
      <span style="left: 15%; animation-delay: 0s"></span>
      <span style="left: 35%; animation-delay: 1s"></span>
      <span style="left: 55%; animation-delay: 2s"></span>
      <span style="left: 75%; animation-delay: 3s"></span>
      <span style="left: 85%; animation-delay: 4s"></span>
    </div>

    <!-- Advanced Preloader -->
    <div class="preloader">
      <div class="decorative-lines">
        <div class="line horizontal-line" style="top: 33%"></div>
        <div class="line horizontal-line" style="top: 66%"></div>
        <div class="line vertical-line" style="left: 33%"></div>
        <div class="line vertical-line" style="left: 66%"></div>
      </div>

      <div class="preloader-content">
        <div
          class="preloader-logo"
          style="font-family: Cormorant Garamond; font-weight: 300"
        >
          RF
        </div>
        <div class="preloader-indicator">
          <div class="preloader-bar"></div>
        </div>
        <div class="preloader-text">
          <span style="--i: 0">P</span>
          <span style="--i: 1">o</span>
          <span style="--i: 2">r</span>
          <span style="--i: 3">t</span>
          <span style="--i: 4">f</span>
          <span style="--i: 5">o</span>
          <span style="--i: 6">l</span>
          <span style="--i: 7">i</span>
          <span style="--i: 8">o</span>
        </div>
      </div>
      <div class="counter">0%</div>
    </div>
    <audio id="ambientAudio" loop preload="none">
      <!-- Using MP3 for broad compatibility -->
      <source src="audio/space-ambient2.mp3" type="audio/mpeg" />
      <!-- OGG as fallback for better compression -->
      <source src="audio/space-ambient.mp3" type="audio/mpeg" />
    </audio>

    <!-- Audio Controls -->
    <div class="audio-control">
      <button id="audioToggle" aria-label="Toggle background music">
        <i class="fas fa-volume-mute"></i>
      </button>
    </div>

    <!-- Advanced Cursor -->
    <div class="cursor-container">
      <div class="cursor"></div>
      <div class="cursor-dot"></div>
    </div>

    <!-- Advanced Navigation -->
    <nav class="nav-atas">
      <div class="nav-logo">RF</div>
      <div class="nav-menu">
        <a href="#home" class="nav-link" data-text="Home"><span>Home</span></a>
        <a href="#about" class="nav-link" data-text="About"
          ><span>About</span></a
        >
        <a href="#projects" class="nav-link" data-text="Projects"
          ><span>Projects</span></a
        >
        <a href="#services" class="nav-link" data-text="Services"
          ><span>Services</span></a
        >
        <a href="#contact" class="nav-link" data-text="Contact"
          ><span>Contact</span></a
        >
      </div>
      <div class="menu-toggle">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu">
      <a href="#home" class="mobile-nav-link" style="--i: 0">Home</a>
      <a href="#about" class="mobile-nav-link" style="--i: 2">About</a>
      <a href="#projects" class="mobile-nav-link" style="--i: 3">Projects</a>
      <a href="#services" class="mobile-nav-link" style="--i: 4">Services</a>
      <a href="#contact" class="mobile-nav-link" style="--i: 6">Contact</a>
    </div>

    <!-- Home Section -->
    <section id="home">
      <div class="home-bg"></div>
      <div class="container">
        <div class="home-content reveal">
          <h1 class="home-title">Hello, I’m Muhammad Raafky</h1>
          <p class="home-subtitle">
            — or just call me Raafky. I’m a junior full-stack developer driven
            by a passion for creating seamless, user-friendly web experiences.
            This portfolio is a reflection of my growth, my curiosity, and the
            projects that have shaped my journey in the ever-evolving world of
            web development. <br />
            Feel free to explore my work — each project tells a story of
            learning, innovation, and the endless possibilities of the web.
          </p>
          <a href="#projects" class="btn interactive">
            explore my works
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <line x1="7" y1="17" x2="17" y2="7"></line>
              <polyline points="7 7 17 7 17 17"></polyline>
            </svg>
          </a>
        </div>
        <div class="scroll-indicator">
          <p>scroll to explore</p>
          <div class="scroll-line"></div>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section id="about">
      <div class="container">
        <div class="about-image-container reveal">
          <img src="./images/diriku.jpg" alt="About Me" class="about-image" />
        </div>
        <div class="about-content">
          <h2 class="section-title reveal">
            <span>About</span>
            My Journey
          </h2>
          <p class="about-text reveal">
            Greetings! I am a Fullstack Web Developer and Digital Designer with
            less than 1 year of experience in the creative industry. I combine
            technical expertise across both frontend and backend development
            with artistic vision to create digital solutions that are not only
            functional but also visually stunning.
          </p>
          <p class="about-text reveal">
            I am passionate about creating digital experiences that are
            user-centered, with a focus on details and interactions that are
            meaningful. Every project I work on is an opportunity to push the
            boundaries of creativity and solve problems in innovative ways.
          </p>
          <div class="skills">
            <div class="skill reveal">
              <div class="skill-name">UI/UX Design</div>
              <div class="skill-bar">
                <div class="skill-progress" style="width: 30%"></div>
              </div>
            </div>
            <div class="skill reveal">
              <div class="skill-name">Frontend Development</div>
              <div class="skill-bar">
                <div class="skill-progress" style="width: 55%"></div>
              </div>
            </div>
            <div class="skill reveal">
              <div class="skill-name">Backend Development</div>
              <div class="skill-bar">
                <div class="skill-progress" style="width: 60%"></div>
              </div>
            </div>
            <div class="skill reveal">
              <div class="skill-name">Brand Identity</div>
              <div class="skill-bar">
                <div class="skill-progress" style="width: 20%"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Projects Section -->
    <section id="projects">
      <div class="container">
        <h2 class="section-title reveal">
          <span>Portofolio</span>
          selected works
        </h2>
        <div class="projects-filters reveal">
          <button class="filter-btn active" data-filter="all">All</button>
          <button class="filter-btn" data-filter="web">Front End</button>
          <button class="filter-btn" data-filter="brand">Fullstack</button>
        </div>
        <div class="projects-grid">
          <div class="project-card" data-category="brand">
            <img
              src="./images/soloartmarket.png"
              alt="Project 1"
              class="project-image"
            />
            <div class="project-overlay">
              <div class="project-category">Fullstack</div>
              <h3 class="project-title">E-Commerce Platform</h3>
              <p class="project-description">
                A modern e-commerce platform with UI/UX optimized for conversion
                and exceptional customer experience — featuring interactive
                elements such as integrated maps to help users easily find store
                locations or services.
              </p>
              <a href="https://store.soloartmarket.com/" class="project-link">
                Lihat Proyek
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="7" y1="17" x2="17" y2="7"></line>
                  <polyline points="7 7 17 7 17 17"></polyline>
                </svg>
              </a>
            </div>
          </div>
          <div class="project-card" data-category="web">
            <img
              src="./images/unteyo.png"
              alt="Project 2"
              class="project-image"
            />
            <div class="project-overlay">
              <div class="project-category">Front End</div>
              <h3 class="project-title">Website Company Profile</h3>
              <p class="project-description">
                Developed a complete website for a tech internship organization,
                based on their brand identity — including logo usage, color
                palette, and consistent design implementation across the site.
              </p>
              <a href="https://unteyojourney.myhost.id/" class="project-link">
                Lihat Proyek
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="7" y1="17" x2="17" y2="7"></line>
                  <polyline points="7 7 17 7 17 17"></polyline>
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section id="services">
      <div class="container">
        <h2 class="section-title reveal">
          <span>Service</span>
          What I Have Offer
        </h2>
        <div class="services-grid">
          <div class="service-card reveal">
            <div class="service-icon">
              <i class="fas fa-palette"></i>
            </div>
            <h3 class="service-title">UI/UX Design</h3>
            <p class="service-description">
              Creating intuitive interfaces and delivering stunning user
              experiences for web and mobile applications.
            </p>
          </div>
          <div class="service-card reveal">
            <div class="service-icon">
              <i class="fas fa-code"></i>
            </div>
            <h3 class="service-title">Frontend Development</h3>
            <p class="service-description">
              Developing responsive websites and modern web applications using
              the latest technologies such as React.
            </p>
          </div>
          <div class="service-card reveal">
            <div class="service-icon">
              <i class="fas fa-server"></i>
            </div>
            <h3 class="service-title">Backend Development</h3>
            <p class="service-description">
              Developed scalable server-side architectures and robust APIs to
              ensure reliable application performance and growth.
            </p>
          </div>
          <div class="service-card reveal">
            <div class="service-icon">
              <i class="fas fa-pen-fancy"></i>
            </div>
            <h3 class="service-title">Brand Identity</h3>
            <p class="service-description">
              Crafting cohesive visual identities that strengthen brand
              recognition and leave a lasting impression.
            </p>
          </div>
          <div class="service-card reveal">
            <div class="service-icon">
              <i class="fas fa-search"></i>
            </div>
            <h3 class="service-title">SEO Optimization</h3>
            <p class="service-description">
              I optimize websites for search engines, helping businesses improve
              their online visibility and reach more customers.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
      <div class="container">
        <h2 class="section-title reveal">
          <span>Contact</span>
          Let's Collaborate
        </h2>
        <div class="contact-container">
          <div class="contact-info reveal">
            <div class="contact-info-item">
              <i class="fas fa-map-marker-alt contact-icon"></i>
              <div class="contact-text">
                <h3>Location</h3>
                <p>Surakarta, Indonesia</p>
              </div>
            </div>
            <div class="contact-info-item">
              <i class="fas fa-envelope contact-icon"></i>
              <div class="contact-text">
                <h3>Email</h3>
                <p>raafkieducation@gmail.com</p>
              </div>
            </div>
            <div class="contact-info-item">
              <i class="fas fa-phone contact-icon"></i>
              <div class="contact-text">
                <h3>Telepon</h3>
                <p>+62 857 4114 8380</p>
              </div>
            </div>
            <div class="contact-social">
              <a href="#" class="social-icon">
                <i class="fab fa-linkedin-in"></i>
              </a>
              <a href="#" class="social-icon">
                <i class="fab fa-instagram"></i>
              </a>
              <a href="#" class="social-icon">
                <i class="fab fa-twitter"></i>
              </a>
              <a href="#" class="social-icon">
                <i class="fab fa-dribbble"></i>
              </a>
            </div>
          </div>
          <form class="contact-form reveal">
            <div class="form-group">
              <label class="form-label" for="name">Name</label>
              <input type="text" id="name" class="form-input" required />
            </div>
            <div class="form-group">
              <label class="form-label" for="email">Email</label>
              <input type="email" id="email" class="form-input" required />
            </div>
            <div class="form-group">
              <label class="form-label" for="subject">Subject</label>
              <input type="text" id="subject" class="form-input" required />
            </div>
            <div class="form-group">
              <label class="form-label" for="message">Message</label>
              <textarea id="message" class="form-textarea" required></textarea>
            </div>
            <button type="submit" class="form-submit interactive">
              Send Message
            </button>
          </form>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-grid">
          <div class="footer-column">
            <h3 class="footer-logo">RF</h3>
            <p class="footer-text">
              Creating engaging and meaningful digital experiences. Full-stack
              development and data specialist.
            </p>
            <div class="contact-social">
              <a href="#" class="social-icon">
                <i class="fab fa-linkedin-in"></i>
              </a>
              <a href="#" class="social-icon">
                <i class="fab fa-instagram"></i>
              </a>
              <a href="#" class="social-icon">
                <i class="fab fa-twitter"></i>
              </a>
              <a href="#" class="social-icon">
                <i class="fab fa-dribbble"></i>
              </a>
            </div>
          </div>
          <div class="footer-column">
            <h4 class="footer-title">Quick Links</h4>
            <nav class="footer-links nav-footer">
              <a href="#home" class="footer-link">Home</a>
              <a href="#about" class="footer-link">About</a>
              <a href="#projects" class="footer-link">Projects</a>
              <a href="#services" class="footer-link">Services</a>
              <a href="#contact" class="footer-link">Contact</a>
            </nav>
          </div>
          <div class="footer-column">
            <h4 class="footer-title">Services</h4>
            <nav class="footer-links">
              <a href="#" class="footer-link">UI/UX Design</a>
              <a href="#" class="footer-link">Frontend Development</a>
              <a href="#" class="footer-link">Backend Development</a>
              <a href="#" class="footer-link">Brand Identity</a>
            </nav>
          </div>
          <div class="footer-column">
            <h4 class="footer-title">Contact Info</h4>
            <nav class="footer-links">
              <span class="footer-link">Surakarta, Indonesia</span>
              <span class="footer-link">raafkieducation@gmail.com</span>
              <span class="footer-link">+62 857 4114 8380</span>
              <span class="footer-link">www.portfolio.com</span>
            </nav>
          </div>
        </div>
        <div class="footer-bottom">
          <div class="copyright">© 2025 Portfolio. All rights reserved.</div>
          <button class="back-to-top">
            <i class="fas fa-arrow-up"></i>
          </button>
        </div>
      </div>
    </footer>

    <!-- Dark Mode Toggle -->
    <button class="dark-mode-toggle">
      <i class="fas fa-moon"></i>
    </button>

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Main JavaScript -->
    <script>
      // Advanced Preloader
      const initEnhancedPreloader = () => {
        const preloader = document.querySelector(".preloader");
        const counter = document.querySelector(".counter");
        let progress = 0;

        // Simulating loading progress
        const interval = setInterval(() => {
          progress += Math.floor(Math.random() * 3) + 1;
          if (progress > 100) progress = 100;
          counter.textContent = `${progress}%`;

          if (progress === 100) {
            clearInterval(interval);
            // Elegant transition out
            setTimeout(() => {
              preloader.style.opacity = "0";
              setTimeout(() => {
                preloader.style.display = "none";
                document.body.classList.add("loaded");

                // Initialize animations after preloader
                initAnimations();
              }, 800);
            }, 800);
          }
        }, 120);
      };

      // Initialize preloader on page load
      window.addEventListener("load", initEnhancedPreloader);

      // Advanced Cursor
      const initCursor = () => {
        const cursor = document.querySelector(".cursor");
        const cursorDot = document.querySelector(".cursor-dot");
        let mouseX = 0;
        let mouseY = 0;
        let cursorX = 0;
        let cursorY = 0;

        document.addEventListener("mousemove", (e) => {
          mouseX = e.clientX;
          mouseY = e.clientY;
        });

        // Smooth cursor movement
        function updateCursor() {
          cursorX += (mouseX - cursorX) * 0.1;
          cursorY += (mouseY - cursorY) * 0.1;

          cursor.style.left = `${cursorX}px`;
          cursor.style.top = `${cursorY}px`;
          cursorDot.style.left = `${mouseX}px`;
          cursorDot.style.top = `${mouseY}px`;

          requestAnimationFrame(updateCursor);
        }
        updateCursor();

        // Cursor hover effects
        const hoverElements = document.querySelectorAll(
          "a, button, .interactive"
        );
        hoverElements.forEach((el) => {
          el.addEventListener("mouseenter", () => {
            cursor.style.transform = "translate(-50%, -50%) scale(1.5)";
            cursorDot.style.transform = "translate(-50%, -50%) scale(0.5)";
          });

          el.addEventListener("mouseleave", () => {
            cursor.style.transform = "translate(-50%, -50%) scale(1)";
            cursorDot.style.transform = "translate(-50%, -50%) scale(1)";
          });
        });
      };

      // Mobile Menu Toggle
      const menuToggle = document.querySelector(".menu-toggle");
      const mobileMenu = document.querySelector(".mobile-menu");
      const body = document.body;

      menuToggle.addEventListener("click", () => {
        menuToggle.classList.toggle("active");
        mobileMenu.classList.toggle("active");
        body.style.overflow = mobileMenu.classList.contains("active")
          ? "hidden"
          : "";
      });

      // Close mobile menu when clicking a link
      document.querySelectorAll(".mobile-nav-link").forEach((link) => {
        link.addEventListener("click", () => {
          menuToggle.classList.remove("active");
          mobileMenu.classList.remove("active");
          body.style.overflow = "";
        });
      });

      // Smooth Scroll
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            const navHeight = 80;
            const targetPosition =
              target.getBoundingClientRect().top + window.pageYOffset;
            const offsetPosition = targetPosition - navHeight;

            window.scrollTo({
              top: offsetPosition,
              behavior: "smooth",
            });
          }
        });
      });

      // General Scroll Animations (NOT for projects)
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "-10% 0px -10% 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          // Don't apply to project cards - they have their own animation
          if (entry.target.classList.contains("project-card")) {
            return;
          }

          if (entry.isIntersecting) {
            entry.target.classList.add("active");

            // Animate skills when they become visible
            if (entry.target.classList.contains("skill")) {
              const progressBar = entry.target.querySelector(".skill-progress");
              const width = progressBar.style.width;
              progressBar.style.width = "0";
              setTimeout(() => {
                progressBar.style.width = width;
              }, 200);
            }
          }
        });
      }, observerOptions);

      // Project Filters
      const filterButtons = document.querySelectorAll(".filter-btn");
      const projectCards = document.querySelectorAll(".project-card");

      filterButtons.forEach((button) => {
        button.addEventListener("click", () => {
          // Remove active class from all buttons
          filterButtons.forEach((btn) => btn.classList.remove("active"));
          // Add active class to clicked button
          button.classList.add("active");

          const filter = button.getAttribute("data-filter");

          projectCards.forEach((card) => {
            if (
              filter === "all" ||
              card.getAttribute("data-category") === filter
            ) {
              card.style.display = "block";
              setTimeout(() => {
                card.style.opacity = "1";
                card.style.transform = "scale(1)";
              }, 10);
            } else {
              card.style.opacity = "0";
              card.style.transform = "scale(0.8)";
              setTimeout(() => {
                card.style.display = "none";
              }, 300);
            }
          });
        });
      });

      // Dark Mode Toggle
      const darkModeToggle = document.querySelector(".dark-mode-toggle");
      const darkModeIcon = darkModeToggle.querySelector("i");

      // Check for saved dark mode preference
      const currentTheme = localStorage.getItem("theme");
      if (currentTheme) {
        document.body.classList.add(currentTheme);
        if (currentTheme === "dark-mode") {
          darkModeIcon.classList.remove("fa-moon");
          darkModeIcon.classList.add("fa-sun");
        }
      }

      darkModeToggle.addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");

        if (document.body.classList.contains("dark-mode")) {
          darkModeIcon.classList.remove("fa-moon");
          darkModeIcon.classList.add("fa-sun");
          localStorage.setItem("theme", "dark-mode");
        } else {
          darkModeIcon.classList.remove("fa-sun");
          darkModeIcon.classList.add("fa-moon");
          localStorage.setItem("theme", "");
        }
      });

      // Back to Top Button
      const backToTop = document.querySelector(".back-to-top");

      window.addEventListener("scroll", () => {
        if (window.pageYOffset > 300) {
          backToTop.style.opacity = "1";
          backToTop.style.visibility = "visible";
        } else {
          backToTop.style.opacity = "0";
          backToTop.style.visibility = "hidden";
        }
      });

      backToTop.addEventListener("click", () => {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });

      // Form Submission
      const contactForm = document.querySelector(".contact-form");
      contactForm.addEventListener("submit", (e) => {
        e.preventDefault();

        // Get form data
        const formData = new FormData(contactForm);

        // Here you would typically send the form data to a server
        // For demo purposes, we'll just show a success message

        // Animate form submission
        const submitBtn = contactForm.querySelector(".form-submit");
        const originalText = submitBtn.textContent;
        submitBtn.textContent = "Sending...";
        submitBtn.disabled = true;

        setTimeout(() => {
          submitBtn.textContent = "sent!";
          submitBtn.style.backgroundColor = "#22c55e";

          setTimeout(() => {
            submitBtn.textContent = originalText;
            submitBtn.style.backgroundColor = "";
            submitBtn.disabled = false;
            contactForm.reset();
          }, 2000);
        }, 1500);
      });

      // Initialize everything
      function initAnimations() {
        // Initialize cursor if not on touch device
        if (!window.matchMedia("(pointer: coarse)").matches) {
          initCursor();
        }

        // Add loaded class to body
        document.body.classList.add("loaded");

        // Start reveals for NON-PROJECT elements
        document.querySelectorAll(".reveal").forEach((element) => {
          // Skip project cards - they have their own animation
          if (!element.classList.contains("project-card")) {
            observer.observe(element);
          }
        });

        // Make service cards visible
        document.querySelectorAll(".service-card").forEach((card) => {
          card.style.opacity = "1";
          card.style.transform = "translateY(0) scale(1)";
        });

        // Initialize GSAP animations
        initGSAPAnimations();

        // Setup scroll progress indicator
        setupScrollIndicator();

        // FIX: Initialize projects section properly
        initProjectsSection();

        // Setup page transitions
        setupPageTransitions();

        // Setup magnetic mouse effect
        setupMagneticEffect();

        // Initialize particle background
        initParticleBackground();

        // Setup floating elements
        setupFloatingElements();
      }

      // GSAP Animations
      function initGSAPAnimations() {
        // Register ScrollTrigger plugin
        gsap.registerPlugin(ScrollTrigger);

        // Hero section animation
        gsap.from(".home-title", {
          opacity: 0,
          y: 50,
          duration: 1.2,
          ease: "power3.out",
        });

        gsap.from(".home-subtitle", {
          opacity: 0,
          y: 30,
          duration: 1.2,
          delay: 0.3,
          ease: "power3.out",
        });

        // Staggered animations for menu items
        gsap.from(".menu-item", {
          scrollTrigger: {
            trigger: "#menu",
            start: "top 70%",
          },
          y: 50,
          opacity: 0,
          duration: 0.8,
          stagger: 0.2,
          ease: "back.out(1.7)",
        });

        // Skills animation with proper reference
        gsap.to(".skill-progress", {
          scrollTrigger: {
            trigger: ".skills",
            start: "top 80%",
          },
          width: function (i, el) {
            // Get the width from the inline style
            return el.style.width || "0%";
          },
          duration: 1.5,
          ease: "power2.out",
          stagger: 0.1,
        });

        // Parallax effect for about image
        gsap.to(".about-image", {
          scrollTrigger: {
            trigger: ".about-image-container",
            start: "top bottom",
            end: "bottom top",
            scrub: true,
          },
          y: -80,
          ease: "none",
        });

        // Service cards animation
        gsap.from(".service-card", {
          scrollTrigger: {
            trigger: ".services-grid",
            start: "top 80%",
          },
          y: 50,
          opacity: 0,
          scale: 0.9,
          duration: 0.8,
          stagger: 0.1,
          ease: "back.out(1.7)",
        });
      }

      // Setup scroll indicator
      function setupScrollIndicator() {
        // Create scroll indicator
        const scrollIndicator = document.createElement("div");
        scrollIndicator.className = "scroll-progress";
        scrollIndicator.innerHTML = `<div class="scroll-progress-fill"></div>`;
        document.body.appendChild(scrollIndicator);

        // Update scroll progress on scroll
        window.addEventListener("scroll", () => {
          const scrollTop = window.scrollY;
          const scrollHeight =
            document.documentElement.scrollHeight - window.innerHeight;
          const scrollPercentage = (scrollTop / scrollHeight) * 100;

          document.querySelector(
            ".scroll-progress-fill"
          ).style.height = `${scrollPercentage}%`;
        });
      }

      // Setup page transitions
      function setupPageTransitions() {
        // Create transition element
        const transitionElement = document.createElement("div");
        transitionElement.className = "page-transition";
        document.body.appendChild(transitionElement);

        // Add transition effect to navigation links
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            e.preventDefault();
            const targetId = this.getAttribute("href");

            // Animate transition element
            gsap.to(".page-transition", {
              x: "0%",
              duration: 0.5,
              ease: "power2.inOut",
              onComplete: () => {
                // Scroll to target
                const target = document.querySelector(targetId);
                const navHeight = 80;
                const targetPosition =
                  target.getBoundingClientRect().top + window.pageYOffset;
                const offsetPosition = targetPosition - navHeight;

                window.scrollTo({
                  top: offsetPosition,
                  behavior: "smooth",
                });

                // Hide transition element
                gsap.to(".page-transition", {
                  x: "100%",
                  duration: 0.5,
                  delay: 0.2,
                  ease: "power2.inOut",
                });
              },
            });
          });
        });
      }

      // Setup magnetic mouse effect
      function setupMagneticEffect() {
        // Add magnetic effect to buttons and interactive elements
        const buttons = document.querySelectorAll(
          ".btn, .nav-link, .social-icon"
        );

        buttons.forEach((button) => {
          button.addEventListener("mousemove", (e) => {
            const rect = button.getBoundingClientRect();
            const x = e.clientX - rect.left - rect.width / 2;
            const y = e.clientY - rect.top - rect.height / 2;

            // Limit the movement to 10px in any direction
            const MAX_MOVE = 10;
            const moveX = Math.max(Math.min(x * 0.3, MAX_MOVE), -MAX_MOVE);
            const moveY = Math.max(Math.min(y * 0.3, MAX_MOVE), -MAX_MOVE);

            button.style.transform = `translate(${moveX}px, ${moveY}px)`;
          });

          button.addEventListener("mouseleave", () => {
            // Reset position on mouse leave
            button.style.transform = "translate(0px, 0px)";
          });
        });
      }

      // Initialize particle background with Three.js
      function initParticleBackground() {
        // Check if Three.js is loaded
        if (typeof THREE === "undefined") {
          console.warn("Three.js is not loaded. Skipping particle background.");
          return;
        }

        // Remove existing background animation
        const oldBg = document.querySelector(".bg-animation");
        if (oldBg) oldBg.remove();

        // Create particle container
        const particleContainer = document.createElement("div");
        particleContainer.className = "particle-background";
        document.body.appendChild(particleContainer);

        // Initialize Three.js scene
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(
          75,
          window.innerWidth / window.innerHeight,
          0.1,
          1000
        );
        const renderer = new THREE.WebGLRenderer({
          antialias: true,
          alpha: true,
        });

        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0x000000, 0);
        particleContainer.appendChild(renderer.domElement);

        // Create particles
        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 2000;

        const posArray = new Float32Array(particlesCount * 3);
        for (let i = 0; i < particlesCount * 3; i++) {
          posArray[i] = (Math.random() - 0.5) * 5;
        }

        particlesGeometry.setAttribute(
          "position",
          new THREE.BufferAttribute(posArray, 3)
        );

        // Materials
        const particlesMaterial = new THREE.PointsMaterial({
          size: 0.005,
          color: document.body.classList.contains("dark-mode")
            ? 0xffffff
            : 0x000000,
          transparent: true,
        });

        // Mesh
        const particlesMesh = new THREE.Points(
          particlesGeometry,
          particlesMaterial
        );
        scene.add(particlesMesh);

        camera.position.z = 2;

        // Mouse effect
        let mouseX = 0;
        let mouseY = 0;

        function onDocumentMouseMove(event) {
          mouseX = (event.clientX / window.innerWidth) * 2 - 1;
          mouseY = (event.clientY / window.innerHeight) * 2 - 1;
        }

        document.addEventListener("mousemove", onDocumentMouseMove);

        // Update on window resize
        window.addEventListener("resize", () => {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Animation loop
        function animate() {
          requestAnimationFrame(animate);

          particlesMesh.rotation.x += 0.0003;
          particlesMesh.rotation.y += 0.0004;

          // Follow mouse
          particlesMesh.rotation.x += mouseY * 0.006;
          particlesMesh.rotation.y += mouseX * 0.006;

          renderer.render(scene, camera);
        }

        animate();

        // Update color when theme changes
        darkModeToggle.addEventListener("click", () => {
          setTimeout(() => {
            particlesMaterial.color.set(
              document.body.classList.contains("dark-mode")
                ? 0xffffff
                : 0x000000
            );
          }, 100);
        });
      }

      // Add floating animation to select elements
      function setupFloatingElements() {
        const elements = document.querySelectorAll(".menu-item, .service-card");

        elements.forEach((element) => {
          // Random values for more natural movement
          const speedX = Math.random() * 0.05 + 0.05;
          const speedY = Math.random() * 0.05 + 0.05;
          const rangeX = Math.random() * 5 + 5;
          const rangeY = Math.random() * 5 + 5;

          // Initial parameters
          let angle = Math.random() * Math.PI * 2;

          function floatingAnimation() {
            angle += 0.01;

            const translateX = Math.sin(angle * speedX) * rangeX;
            const translateY = Math.sin(angle * speedY) * rangeY;

            element.style.transform = `translate(${translateX}px, ${translateY}px)`;

            requestAnimationFrame(floatingAnimation);
          }

          // Start animation with a delay to prevent conflict with other animations
          setTimeout(() => {
            floatingAnimation();
          }, 2000);
        });
      }

      // Parallax Effect
      window.addEventListener("scroll", () => {
        const scrolled = window.pageYOffset;
        const rate = scrolled * -0.5;

        const homeBg = document.querySelector(".home-bg");
        if (homeBg) {
          homeBg.style.transform = `translateY(${rate}px)`;
        }
      });

      // FIXED: Proper projects section initialization
      // This completes the initProjectsSection function that was cut off
      function initProjectsSection() {
        console.log("Initializing projects section");

        const projectCards = document.querySelectorAll(".project-card");

        if (projectCards.length === 0) {
          console.warn("No project cards found");
          return;
        }

        // Set initial state for project cards
        projectCards.forEach((card) => {
          card.style.display = "block";
          // Start with cards out of view, but visible
          card.style.opacity = "0";
          card.style.transform = "translateY(50px)";
        });

        // Check if GSAP is available
        if (
          typeof gsap === "undefined" ||
          typeof ScrollTrigger === "undefined"
        ) {
          console.warn("GSAP not available, using basic animations");
          // Fallback animation
          projectCards.forEach((card, index) => {
            setTimeout(() => {
              card.style.opacity = "1";
              card.style.transform = "translateY(0)";
              card.style.transition = "opacity 0.8s ease, transform 0.8s ease";
              card.classList.add("animated");
            }, index * 200);
          });
          return;
        }

        // Create a staggered animation with GSAP
        gsap.registerPlugin(ScrollTrigger);

        gsap.to(".project-card", {
          scrollTrigger: {
            trigger: ".projects-grid",
            start: "top 75%",
          },
          opacity: 1,
          y: 0,
          duration: 0.8,
          stagger: 0.2,
          ease: "back.out(1.7)",
          onComplete: function () {
            // Add class for any additional animations
            document.querySelectorAll(".project-card").forEach((card) => {
              card.classList.add("animated");
            });
          },
        });
      }

      // Additional animation enhancements
      function enhanceAnimations() {
        // Add smooth header background on scroll
        const header = document.querySelector(".nav-atas");

        window.addEventListener("scroll", () => {
          if (window.scrollY > 100) {
            header.style.padding = "20px 50px";
            header.style.boxShadow = "0 10px 20px rgba(0, 0, 0, 0.05)";
          } else {
            header.style.padding = "30px 50px";
            header.style.boxShadow = "0 5px 20px rgba(0, 0, 0, 0.02)";
          }
        });

        // Add animated number counters in about section
        const addCounters = () => {
          const skillsSection = document.querySelector(".skills");
          if (!skillsSection) return;

          const counterContainer = document.createElement("div");
          counterContainer.className = "counters-container reveal";
          counterContainer.innerHTML = `
      <div class="counter-item">
        <h3 class="counter-number" data-target="1">0</h3>
        <p class="counter-text">Years Experience</p>
      </div>
      <div class="counter-item">
        <h3 class="counter-number" data-target="10">0</h3>
        <p class="counter-text">Projects Completed</p>
      </div>
      <div class="counter-item">
        <h3 class="counter-number" data-target="5">0</h3>
        <p class="counter-text">Happy Clients</p>
      </div>
    `;

          // Insert before skills section
          skillsSection.parentNode.insertBefore(
            counterContainer,
            skillsSection
          );

          // Animate counters
          const counterNumbers = document.querySelectorAll(".counter-number");

          const observerCounter = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  const targetNumber = parseInt(
                    entry.target.getAttribute("data-target")
                  );
                  let currentNumber = 0;
                  const increment = targetNumber / 50; // Divide animation into 50 steps

                  const updateCounter = () => {
                    currentNumber += increment;
                    if (currentNumber < targetNumber) {
                      entry.target.textContent = Math.ceil(currentNumber);
                      setTimeout(updateCounter, 40);
                    } else {
                      entry.target.textContent = targetNumber;
                    }
                  };

                  updateCounter();
                  observerCounter.unobserve(entry.target);
                }
              });
            },
            { threshold: 0.5 }
          );

          counterNumbers.forEach((counter) => {
            observerCounter.observe(counter);
          });
        };

        // Call counter function after animations are initialized
        setTimeout(addCounters, 1000);
      }
      document.addEventListener("DOMContentLoaded", () => {
        const audio = document.getElementById("ambientAudio");
        const audioToggle = document.getElementById("audioToggle");
        const audioIcon = audioToggle.querySelector("i");
        let audioLoaded = false;

        // Function to load audio only when needed
        function loadAudio() {
          if (!audioLoaded) {
            audio.load();
            audioLoaded = true;
          }
        }

        // Play audio with user interaction (for better UX and browser compatibility)
        audioToggle.addEventListener("click", () => {
          // Load audio on first interaction
          if (!audioLoaded) {
            loadAudio();
          }

          if (audio.paused) {
            // Set volume low for ambient effect
            audio.volume = 1;
            audio
              .play()
              .then(() => {
                audioIcon.classList.remove("fa-volume-mute");
                audioIcon.classList.add("fa-volume-up");
              })
              .catch((e) => {
                console.log("Audio playback was prevented by the browser", e);
              });
          } else {
            audio.pause();
            audioIcon.classList.remove("fa-volume-up");
            audioIcon.classList.add("fa-volume-mute");
          }
        });

        // Smart audio management for better performance
        // Reduce volume when user is inactive
        let activityTimer;
        function handleUserActivity() {
          clearTimeout(activityTimer);

          // If audio is playing, ensure it's at normal volume during activity
          if (!audio.paused) {
            audio.volume = 0.7;
          }

          activityTimer = setTimeout(() => {
            // Reduce volume when user is inactive
            if (!audio.paused) {
              audio.volume = 1;
            }
          }, 30000); // 30 seconds of inactivity
        }

        // Listen for user activity
        ["mousemove", "keydown", "scroll", "click", "touchstart"].forEach(
          (event) => {
            document.addEventListener(event, handleUserActivity);
          }
        );

        // Pause audio when tab is not visible for performance
        document.addEventListener("visibilitychange", () => {
          if (document.hidden) {
            if (!audio.paused) {
              audio.pause();
              // Store the state to resume when visible again
              audio.dataset.wasPlaying = "true";
            }
          } else {
            if (audio.dataset.wasPlaying === "true") {
              audio.play().catch(() => {});
              delete audio.dataset.wasPlaying;
            }
          }
        });

        // Pause audio when user navigates away from page
        window.addEventListener("beforeunload", () => {
          audio.pause();
        });
      });
    </script>
  </body>
</html>
